(function(t){function e(e){for(var i,o,r=e[0],l=e[1],c=e[2],d=0,p=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,r=1;r<a.length;r++){var l=a[r];0!==s[l]&&(i=!1)}i&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},s={app:0},n=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"02d0":function(t,e,a){},1:function(t,e){},2401:function(t,e,a){"use strict";var i=a("f7ce"),s=a.n(i);s.a},"46a1":function(t,e,a){"use strict";var i=a("a1a7"),s=a.n(i);s.a},"46e9":function(t,e,a){},"4e10":function(t,e,a){"use strict";var i=a("d078"),s=a.n(i);s.a},5342:function(t,e,a){"use strict";var i=a("7ea4"),s=a.n(i);s.a},"53b2":function(t,e,a){"use strict";var i=a("46e9"),s=a.n(i);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("5638"),s=a("2b0e"),n=(a("0d03"),a("b0c0"),function(t){t.auth={setToken:function(t,e,a,i,s){window.localStorage.setItem("token",t),window.localStorage.setItem("expires",e),window.localStorage.setItem("user",a),window.localStorage.setItem("id",i),window.localStorage.setItem("role",s)},getToken:function(){var t=window.localStorage.getItem("token"),e=window.localStorage.getItem("expires");return t||e?(Date.now()>Date.parse(e)&&(console.log("destroy"),this.destroyToken(),window.location="/login"),t):null},destroyToken:function(){window.localStorage.removeItem("token"),window.localStorage.removeItem("expires"),window.localStorage.removeItem("user"),window.localStorage.removeItem("id"),window.localStorage.removeItem("role")},isAuthenticated:function(){return!!this.getToken()},checkBan:function(){return 4===+window.localStorage.getItem("role")},isAdmin:function(){var t=JSON.parse(window.localStorage.getItem("role")),e=0;for(e in t)if("ROLE_ADMIN"===t[e].name)return!0;return!1},isEditor:function(){var t=JSON.parse(window.localStorage.getItem("role")),e=0;for(e in t)if("ROLE_EDITOR"===t[e].name||this.isAdmin())return!0;return!1},isCommentator:function(){var t=JSON.parse(window.localStorage.getItem("role")),e=0;for(e in t)if("ROLE_COMMENTATOR"===t[e].name||this.isAdmin())return!0;return!1}},Object.defineProperties(t.prototype,{$auth:{get:function(){return t.auth}}})}),o=(a("a41b"),a("e829"),a("f5af")),r=a.n(o),l=(a("44f8"),a("a6e0"),a("a7be"),a("2c43"),a("45fc"),a("8c4f")),c=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},u=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"padding-20-40",staticStyle:{"min-height":"80vh",background:"url('/img/3.png')","background-position":"center","background-size":"cover","background-repeat":"no-repeat","background-attachment":"fixed"}},[a("div",{staticClass:"flex-row justify-content-center align-items-center mg-bot-20 flex-wrap"},[a("div",{staticClass:"flex-column bg-opacity width-10"},[a("div",{staticClass:"flex-row padding-20-40 bg-violet white size-title justify-content-center"},[a("h3",[t._v("Кодекс сообщества")])]),a("div",{staticClass:"flex-column bg-white padding-10-20"},[a("h4",{staticClass:"mg-bot-10 size-lead mg-top-10 mg-l-20"},[t._v("Параграф первый")]),a("div",{staticClass:"size-text mg-l-20"},[a("p",{staticClass:"mg-bot-10"},[t._v("1.1 Не порочить собственные честь и достоинство, норовя высказать глупость или оскорбить других. Самураи шли по пути смерти, четко осознавая, что порочит их честь и достоинство. Так будем же подобны им.")]),a("p",{staticClass:"mg-bot-10"},[t._v("1.2 Мы за свободу слова. Но мы сторонимся политики, ксенофобии и других проявлений человеческой неразумности. Следуй пути, помни о чести и достоинстве.")]),a("p",{staticClass:"mg-bot-10"},[t._v("1.3 Мы за интеллектуальное общение, за личностный рост, который надлежит достигать в споре. Можно услышать популярное мнение о том, что нельзя спорить о вкусах. Не слушайте тех, кто утверждает это - им не хватает храбрости отстаивать собственные вкусы.")]),a("p",{staticClass:"mg-bot-10"},[t._v("1.4 Спор - это трудное искусство. Совершенствуя мастерство, надлежит быть терпеливым и хладнокровным. Мы не против эмоций, но мы за то, чтобы человек контролировал их. Холодная голова - главное оружие человека.")])]),a("h4",{staticClass:"mg-bot-10 size-lead mg-top-10 mg-l-20"},[t._v("Параграф второй")]),a("p",{staticClass:"mg-bot-10 mg-l-20"},[t._v("Из вышесказанного следуют три простых правила:")]),a("p",{staticClass:"mg-bot-10 mg-l-20"},[t._v("2.1 За оскорбление, показную глупость и мат - предупреждение.")]),a("p",{staticClass:"mg-bot-10 mg-l-20"},[t._v("2.2 Повторное предупреждение карается баном на две недели. Повторный бан выдается навсегда.")]),a("p",{staticClass:"mg-bot-10 mg-l-20"},[t._v("2.3 Попытки разжигания межрассовой розни и другие проявления ксенофобии на рассовой, сексуальной или политической почвах караются пожизненным баном.")])])])])])}],d={name:"home"},p=d,m=a("2877"),g=Object(m["a"])(p,c,u,!1,null,null,null),f=g.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container padding-20-40 min-height-vh"},[this.$auth.isCommentator()?a("div",{staticClass:"flex-row flex-wrap justify-content-start width-10 mg-bot-20"},[a("router-link",{staticClass:"btn size-text align-self-start white mg-r-10 mg-bot-10",attrs:{to:{name:"questionCreate"}}},[t._v("Создать обсуждение")]),this.$auth.isAdmin()?a("router-link",{staticClass:"btn size-text align-self-start white mg-r-10 mg-bot-10",attrs:{to:{name:"categoryCreate"}}},[t._v("Создать категорию")]):t._e()],1):a("div",{staticClass:"flex-column width-10 mg-bot-20 padding-10-20"},[a("p",{staticClass:"size-text align-self-start violet"},[t._v("Чтобы создавать темы, зарегистрируйтесь и подтвердите адрес электронной почты")])]),t._l(t.getQuestions,(function(e){return a("div",{key:e[0].category,staticClass:"flex-column mg-bot-30 bg-white box-shadow",attrs:{"data-aos":"fade-up","data-aos-easing":"ease"}},[a("div",{staticClass:"flex-row padding-10-20 bg-violet white box-shadow size-title"},[t._v(t._s(e[0].category))]),a("div",{staticClass:"padding-10-20"},t._l(e,(function(e){return a("div",{key:e.id,staticClass:"flex-column bg-white violet padding-10-20 mg-top-10 mg-bot-10 box-shadow",staticStyle:{"border-left":"10px solid rgba(45, 8, 44, 1)"}},[a("div",{staticClass:"flex-row mg-bot-20 size-lead"},[a("h3",[t._v(t._s(e.title))])]),a("div",{staticClass:"meta-data"},[a("div",{staticClass:"flex-row mg-bot-10"},[a("i",{staticClass:"fas fa-user"}),a("router-link",{staticStyle:{color:"#5e6973"},attrs:{to:{path:"/users/"+e.user_slug}}},[t._v(t._s(e.user))])],1),a("div",{staticClass:"flex-row mg-bot-10"},[a("i",{staticClass:"fas fa-calendar-alt"}),t._v(t._s(e.created_at))]),a("div",{staticClass:"flex-row mg-bot-10"},[a("p",{staticClass:"size-text mg-r-20"},[a("i",{staticClass:"far fa-eye"}),t._v(t._s(e.view_count))]),a("p",{staticClass:"size-text mg-r-20"},[a("i",{staticClass:"far fa-comments"}),t._v(t._s(e.replies_count))]),a("p",{staticClass:"size-text mg-r-20"},[a("i",{staticClass:"far fa-heart"}),t._v(t._s(e.like_count))])])]),a("hr",{staticStyle:{background:"rgba(45, 8, 44, 1)",width:"100%"}}),e.last_replies?a("div",{staticClass:"flex-row meta-data mg-top-10"},[a("p",[t._v("Последний ответ от "+t._s(e.last_replies.user)+", "+t._s(e.last_replies.created_at))])]):t._e(),a("div",{staticClass:"btn align-self-start white mg-top-10"},[a("router-link",{attrs:{to:e.path}},[t._v("присоединиться")])],1)])})),0),a("div",{staticClass:"padding-10-20 mg-bot-30 mb-top-10"},[a("router-link",{staticClass:"btn size-text",attrs:{to:{path:"category/"+e[0].category_slug}}},[t._v("перейти к разделу")])],1)])}))],2)},v=[],b=(a("a4d3"),a("4de4"),a("4160"),a("e439"),a("dbb4"),a("b64b"),a("d3b7"),a("159b"),a("96cf"),a("2fa7")),w=a("2f62");function _(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function C(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_(Object(a),!0).forEach((function(e){Object(b["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var x={name:"Forum",computed:C({},Object(w["c"])(["getQuestions"])),created:function(){this.$auth.isAuthenticated()||this.$router.push("/login")},methods:C({},Object(w["b"])(["fetchQuestions"])),mounted:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:this.fetchQuestions();case 1:case"end":return t.stop()}}),null,this)}},y=x,k=(a("53b2"),Object(m["a"])(y,h,v,!1,null,null,null)),O=k.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container padding-20-40 min-height-vh"},[this.$auth.isAdmin()?a("div",{staticClass:"flex-row flex-wrap justify-content-start width-10 mg-bot-20"},[a("router-link",{staticClass:"btn size-text align-self-start white mg-r-10 mg-bot-10",attrs:{to:{name:"postCreate"}}},[t._v("Добавить материалы ")]),a("router-link",{staticClass:"btn size-text align-self-start white mg-r-10 mg-bot-10",attrs:{to:{name:"blogCategoryCreate"}}},[t._v(" Создать категорию ")])],1):t._e(),t.items&&t.pagination?a("div",[t._l(t.items,(function(e){return a("div",{key:e.id,staticClass:"flex-column mg-bot-30 box-shadow",attrs:{"data-aos":"fade-up","data-aos-easing":"ease"}},[a("div",{staticClass:"flex-row bg-violet white padding-10-20 box-shadow"},[a("h2",{staticClass:"size-lead"},[t._v(t._s(e.title))])]),a("div",{staticClass:"flex-column padding-10-20"},[a("div",{staticClass:"flex-column meta-data"},[a("p",{staticClass:"size-text mg-r-20"},[a("i",{staticClass:"far fa-user"}),a("router-link",{staticStyle:{color:"#5e6973"},attrs:{to:{path:"/users/"+e.user_slug}}},[t._v(t._s(e.user))])],1),a("p",{staticClass:"size-text mg-r-20"},[a("i",{staticClass:"far fa-calendar-alt"}),t._v(t._s(e.created_at))]),a("p",{staticClass:"size-text mg-r-20"},[a("i",{staticClass:"far fa-bookmark"}),t._v(t._s(e.category))]),a("div",{staticClass:"flex-row"},[a("p",{staticClass:"size-text mg-r-20"},[a("i",{staticClass:"far fa-eye"}),t._v(t._s(e.view_count))]),a("p",{staticClass:"size-text mg-r-20"},[a("i",{staticClass:"far fa-comments"}),t._v(t._s(e.comments_count))]),a("p",{staticClass:"size-text mg-r-20"},[a("i",{staticClass:"far fa-heart"}),t._v(t._s(e.like_count))])])]),a("div",{staticClass:"flex-column mg-top-10 mg-bot-10 width-10"},[a("viewer",{attrs:{value:e.description}})],1),a("div",{staticClass:"flex-row flex-wrap"},[a("router-link",{staticClass:"btn size-text align-self-start mg-r-20 box-shadow",attrs:{to:e.path}},[t._v("читать")])],1)])])})),t.pagination.last_page>1?a("v-pagination",{attrs:{pagination:t.pagination,offset:5},on:{paginate:function(e){return t.getResults()}}}):t._e()],2):t._e()])},P=[],S=a("4ede"),z=a("bc3a"),$=a.n(z),E={data:function(){return{items:{},pagination:{current_page:1}}},components:{viewer:S["Viewer"]},methods:{getResults:function(){var t=this;$.a.get("https://api.dihauti.ru/api/posts?page="+this.pagination.current_page).then((function(e){t.items=e.data.data.data,t.pagination=e.data.data.pagination})).catch((function(t){console.log(t.response.data)}))}},mounted:function(){this.getResults()}},D=E,q=(a("2401"),Object(m["a"])(D,j,P,!1,null,null,null)),R=q.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container padding-20-60 min-height-vh"},[t.getPost?a("div",{staticClass:"flex-column width-10 mg-bot-20 box-shadow",attrs:{"data-aos":"fade-up","data-aos-easing":"ease"}},[t.postShowUpdate?a("div",[a("v-post-update",{attrs:{post:t.getPost},on:{"cancel-post-update":t.cancelPostUpdate}})],1):a("div",[a("h2",{staticClass:"size-title padding-10-20 bg-violet white"},[t._v(t._s(t.getPost.title))]),a("div",{staticClass:"flex-column padding-10-20",attrs:{"data-aos":"fade-up","data-aos-easing":"ease"}},[a("div",{staticClass:"size-text mg-top-10 flex-row align-items-center",staticStyle:{color:"#5e6973"}},[a("router-link",{staticStyle:{color:"#5e6973","margin-right":"3px"},attrs:{to:{path:"/users/"+t.getPost.user_slug}}},[t._v(" "+t._s(t.getPost.user)+" ")]),t.getPost.online?a("div",{staticStyle:{"border-radius":"50%",width:"10px",height:"10px",background:"green"}}):a("div",{staticStyle:{"border-radius":"50%",width:"10px",height:"10px",background:"darkred"}})],1),a("p",{staticClass:"size-text mg-top-10",staticStyle:{color:"#5e6973"}},[t._v(t._s(t.getPost.created_at))]),a("div",{staticClass:"mg-top-10 mg-bot-10"},[a("viewer",{attrs:{value:t.getPost.body}})],1)]),a("div",{staticClass:"padding-10-20 mg-bot-20"},[t.showUpdate?a("div",{staticClass:"flex-row justify-content-start mg-bot-20",staticStyle:{float:"left"}},[a("div",{staticClass:"btn mg-l-10 mg-r-10",on:{click:t.postUpdate}},[a("p",[t._v("редактировать")])]),this.$auth.isAdmin()?a("div",{staticClass:"btn mg-l-10 mg-r-10",on:{click:t.postDelete}},[a("p",[t._v("удалить")])]):t._e()]):t._e(),a("div",{staticClass:"size-text mg-r-20 flex-row align-items-center",staticStyle:{float:"right"},on:{click:t.like}},[a("p",{staticClass:"size-text mg-r-20",staticStyle:{color:"rgba(45, 8, 4, 0.3)"}},[a("i",{staticClass:"far fa-eye"}),t._v(" "+t._s(t.getPost.view_count))]),a("transition",{attrs:{name:"bounce"}},[t.userLike?a("v-like",{attrs:{likeColor:"rgba(223, 166, 207, 1)",count:t.getPost.like_count}}):t._e()],1),a("transition",{attrs:{name:"fade"}},[t.userLike?t._e():a("v-like",{attrs:{likeColor:"rgba(45, 8, 4, 0.3)",count:t.getPost.like_count}})],1)],1)])])]):t._e(),a("div",{staticClass:"flex-column width-10 mg-rl-auto mg-top-30",attrs:{id:"startComment"}},[a("div",{staticClass:"flex-row justify-content-start meta-data mg-bot-10",attrs:{"data-aos":"fade-up","data-aos-easing":"ease"}},[a("h2",{staticClass:"size-lead blue mg-r-20"},[t._v("Комментарии")]),a("p",{staticClass:"size-lead"},[t._v(t._s(t.getPost.comments_count))])]),t._l(t.comments,(function(t){return a("v-comments",{key:t.id,attrs:{data:t}})})),t.pagination.last_page>1?a("v-pagination",{attrs:{pagination:t.pagination,offset:5},on:{paginate:function(e){return t.getResults()}}}):t._e()],2),this.$auth.isCommentator()?a("div",{staticClass:"flex-column width-10 mg-rl-auto mg-top-30 padding-10-20",attrs:{"data-aos":"fade-up","data-aos-easing":"ease"}},[a("div",{staticClass:"flex-column width-10 align-self-start mg-bot-20 box-shadow"},[a("div",{staticClass:"flex-row padding-10-20 bg-violet white size-lead"},[a("p",[t._v(t._s(t.form.user))])]),a("form",{staticClass:"flex-column mg-bot-20 mg-top-20 width-10 padding-10-20",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("editor",{attrs:{options:t.editorOptions,mode:"wysiwyg"},model:{value:t.form.body,callback:function(e){t.$set(t.form,"body",e)},expression:"form.body"}}),a("button",{staticClass:"btn size-text align-self-center mg-top-20"},[t._v("оставить комментарий")])],1)])]):a("div",{staticClass:"flex-column width-10 mg-rl-auto mg-top-30 bg-white box-shadow"},[a("p",{staticClass:"size-text padding-10-20"},[t._v("Чтобы оставить комментарий, зарегистрируйтесь и подтвердите адрес электронной почты")])])])},I=[],Q=(a("fb6a"),a("a434"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container padding-20-60"},[a("form",{staticClass:"flex-column bg-violet width-9 mg-rl-auto box-shadow padding-20-40",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"flex-row mg-bot-20 mg-top-20 width-10"},[a("div",{staticClass:"group width-10"},[a("h3",{staticClass:"size-lead white mg-bot-10 mg-top-10"},[t._v("Название")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"width-10",attrs:{type:"text"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}}),a("span",{staticClass:"highlight"}),a("span",{staticClass:"bar"})])]),a("div",{staticClass:"flex-column mg-bot-20 mg-top-20 width-10"},[a("h3",{staticClass:"size-lead white mg-bot-10"},[t._v("Редактор")]),a("editor",{staticClass:"bg-white",attrs:{options:t.editorOptions,visible:t.editorVisible,html:t.editorHtml,previewStyle:"vertical"},model:{value:t.form.body,callback:function(e){t.$set(t.form,"body",e)},expression:"form.body"}})],1),a("div",{staticClass:"flex-row flex-wrap align-self-center"},[a("button",{staticClass:"btn-pink size-text align-self-center mg-top-20 mg-r-10 mg-l-10",attrs:{id:"button-order"}},[t._v("отправить")]),a("p",{staticClass:"btn-pink size-text align-self-center mg-top-20 mg-r-10 mg-l-10",on:{click:t.cancelUpdate}},[t._v("отменить")])])])])}),L=[];a("e01a");function A(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function M(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?A(Object(a),!0).forEach((function(e){Object(b["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var N={components:{editor:S["Editor"]},props:["post"],data:function(){return{form:{title:this.post.title,body:this.post.body,description:this.post.description},editorHtml:"",editorVisible:!0,editorOptions:{hideModelSwitch:!1,minHeight:"600px",useCommandShortcut:!0,useDefaultHTMLSanitizer:!0,usageStatistics:!0,toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","task","indent","outdent","divider","image","link","code","codeblock"]}}},computed:M({},Object(w["c"])(["getPost"])),methods:M({},Object(w["b"])(["updatePost"]),{submit:function(){this.$emit("cancel-post-update"),this.updatePost({form:this.form,slug:this.$route.params.slug})},cancelUpdate:function(){this.$emit("cancel-post-update")}})},T=N,H=(a("fa72"),Object(m["a"])(T,Q,L,!1,null,null,null)),B=H.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[!t.editing&&!t.data.length>0?a("div",{staticClass:"flex-column width-10 align-self-start mg-bot-20 box-shadow",attrs:{"data-aos":"fade-up","data-aos-easing":"ease"}},[a("div",{staticClass:"flex-row flex-wrap space-between blue width-10 padding-10-20 align-items-center"},[a("div",{staticClass:"flex-column"},[a("div",{staticClass:"flex-row size-lead violet align-items-center"},[a("h2",{staticClass:"lead"},[a("router-link",{staticStyle:{"margin-right":"3px"},attrs:{to:{path:"/users/"+t.data.user_slug}}},[t._v(t._s(t.data.user)+" ")])],1),t.data.online?a("div",{staticStyle:{"border-radius":"50%",width:"10px",height:"10px",background:"green"}}):a("div",{staticStyle:{"border-radius":"50%",width:"10px",height:"10px",background:"darkred"}})]),a("v-role")],1),t.showUpdate?a("div",{staticClass:"flex-row align-items-center size-text"},[a("div",{staticClass:"btn mg-l-10 mg-r-10",on:{click:t.startUpdate}},[a("p",[t._v("редактировать")])]),a("div",{staticClass:"btn mg-l-10 mg-r-10",on:{click:t.commentDelete}},[a("p",[t._v("удалить")])])]):t._e()]),a("div",{staticClass:"padding-10-20"},[a("div",{staticClass:"flex-column width-10"},[a("viewer",{attrs:{value:t.data.body}})],1),a("hr",{staticClass:"width-10"}),a("div",{staticClass:"flex-row space-between align-items-center"},[a("p",{staticClass:"size-text mg-top-10"},[t._v(" "+t._s(t.data.created_at)+" ")]),a("div",{staticClass:"size-text flex-row align-items-center",on:{click:t.like}},[a("transition",{attrs:{name:"bounce"}},[t.userLike?a("v-like",{attrs:{likeColor:"rgba(223, 166, 207, 1)",count:t.data.like_count}}):t._e()],1),a("transition",{attrs:{name:"bounce"}},[t.userLike?t._e():a("v-like",{attrs:{likeColor:"rgba(45, 8, 4, 0.3)",count:t.data.like_count}})],1)],1)])])]):a("form",{staticClass:"flex-column bg-violet width-9 mg-rl-auto box-shadow padding-20-40",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"flex-column mg-bot-20 mg-top-20 width-10"},[a("h3",{staticClass:"size-lead white mg-bot-10"},[t._v("Редактор")]),a("editor",{attrs:{options:t.editorOptions,mode:"wysiwyg"},model:{value:t.form.body,callback:function(e){t.$set(t.form,"body",e)},expression:"form.body"}})],1),a("button",{staticClass:"btn-pink size-text align-self-center mg-top-20",attrs:{id:"button-order"}},[t._v("сохранить")]),a("p",{staticClass:"btn-pink size-text align-self-center mg-top-20",on:{click:t.cancelUpdate}},[t._v("отменить")])])])},F=[],J=(a("99af"),a("3d20")),Y=a.n(J);function W(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function X(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?W(Object(a),!0).forEach((function(e){Object(b["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):W(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Z={props:["data"],components:{editor:S["Editor"],viewer:S["Viewer"]},data:function(){return{form:{body:this.data.body},editing:!1,editorOptions:{hideModelSwitch:!1,minHeight:"300px",useCommandShortcut:!0,useDefaultHTMLSanitizer:!0,usageStatistics:!0,toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","task","indent","outdent","divider","image","link","code","codeblock"]}}},computed:{showUpdate:function(){return+window.localStorage.getItem("id")===+this.data.user_id||this.$auth.isEditor()},userLike:function(){return this.isLiked()}},methods:X({},Object(w["b"])(["updateComment"]),{isLiked:function(){if(void 0!==this.data.likes){var t=this.data.likes.filter((function(t){return t.user_id=+localStorage.getItem("id")}));return 0!==t.length}},submit:function(){this.updateComment({id:this.data.id,form:this.form,slug:this.$route.params.slug})},commentDelete:function(){(+window.localStorage.getItem("id")===+this.data.user_id||this.$auth.isEditor())&&$.a.delete("https://api.dihauti.ru/api/posts/".concat(this.$route.params.slug,"/comments/").concat(this.data.id)).then((function(){Y.a.fire("Отлично!","Комментарий удален","success").then((function(){window.location.reload()}))})).catch((function(){Y.a.fire("Ошибка","Попробуйте позднее или обратитесь в тех.поддежку support@dihauti.ru","error")}))},like:function(){var t=this;this.$auth.isCommentator()&&$.a.post("https://api.dihauti.ru/api/posts/".concat(this.$route.params.slug,"/comments/").concat(this.data.id,"/like")).then((function(e){201===e.status?(t.data.like_count+=1,t.data.likes.unshift({user_id:t.user_id})):(t.data.like_count-=1,t.data.likes.splice({user_id:t.user_id}))}))},cancelUpdate:function(){this.editing=!1},startUpdate:function(){this.editing=!0}})},G=Z,K=(a("46a1"),Object(m["a"])(G,V,F,!1,null,null,null)),tt=K.exports;function et(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function at(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?et(Object(a),!0).forEach((function(e){Object(b["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):et(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var it={components:{editor:S["Editor"],viewer:S["Viewer"],"v-post-update":B,"v-comments":tt},data:function(){return{form:{user_id:localStorage.getItem("id"),user:this.ucFirst(localStorage.getItem("user")),body:null},comments:{},pagination:{current_page:1},postShowUpdate:!1,editorOptions:{hideModelSwitch:!0,minHeight:"300px",useCommandShortcut:!0,useDefaultHTMLSanitizer:!0,usageStatistics:!0,toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","task","indent","outdent","divider","table","image","link","divider","code","codeblock"]}}},computed:at({},Object(w["c"])(["getPost"]),{showUpdate:function(){return+window.localStorage.getItem("id")===+this.getPost.user_id||this.$auth.isEditor()},userLike:function(){return this.isLiked()}}),methods:at({},Object(w["b"])(["fetchPost","pushComment","updatePost"]),{getResults:function(){var t=this;$.a.get("https://api.dihauti.ru/api/posts/".concat(this.$route.params.slug,"/comments?page=")+this.pagination.current_page).then((function(e){t.comments=e.data.data.data,t.pagination=e.data.data.pagination})).catch((function(t){console.log(t.response.data)}))},isLiked:function(){if(void 0!==this.getPost.likes){var t=this.getPost.likes.filter((function(t){return t.user_id=+localStorage.getItem("id")}));return 0!==t.length}},submit:function(){this.pushComment({form:this.form,slug:this.$route.params.slug})},like:function(){var t=this;this.$auth.isAuthenticated&&$.a.post("https://api.dihauti.ru/api/posts/".concat(this.$route.params.slug,"/like")).then((function(e){201===e.status?(t.getPost.like_count+=1,t.getPost.likes.unshift({user_id:t.user_id})):(t.getPost.like_count-=1,t.getPost.likes.splice({user_id:t.user_id}))}))},ucFirst:function(t){return t?t[0].toUpperCase()+t.slice(1):t},postUpdate:function(){this.postShowUpdate=!0},cancelPostUpdate:function(){this.postShowUpdate=!1},postDelete:function(){var t=this.$route.params.slug;Y.a.fire({title:"Вы уверены?",text:"Пост и все комментарии к нему будут полностью удалены",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Да, уверен!",cancelButtonText:"Пожалуй, нет"}).then((function(e){e.value&&$.a.delete("https://api.dihauti.ru/api/posts/".concat(t)).then((function(){Y.a.fire("Отлично!","Пост удален","success").then((function(){window.location="/blog"}))})).catch((function(){Y.a.fire("Ошибка!","Попробуйте позднее или обратитесь в тех.поддежку support@dihauti.ru","error")}))}))}}),mounted:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:this.fetchPost(this.$route.params.slug),this.getResults();case 2:case"end":return t.stop()}}),null,this)}},st=it,nt=(a("5342"),Object(m["a"])(st,U,I,!1,null,null,null)),ot=nt.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container padding-20-40 min-height-vh"},[t.showVerify?a("div",[a("form",{staticClass:"padding-10-20 flex-column",on:{submit:function(e){return e.preventDefault(),t.verify(e)}}},[a("div",{staticClass:"flex-row mg-bot-20 mg-top-20 width-8"},[t._m(0),a("div",{staticClass:"group"},[a("label",{staticClass:"size-text"},[t._v("Введите ключ верификации, который был отправлен вам на почту")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"width-10",attrs:{type:"text",required:""},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),a("span",{staticClass:"highlight"}),a("span",{staticClass:"bar"})])]),a("button",{staticClass:"btn mg-top-20 align-self-center mg-bot-30",attrs:{disabled:!t.code}},[t._v("отправить")])])]):a("div",[t.editing?t._e():a("div",{staticClass:"flex-column box-shadow",attrs:{"data-aos":"fade-up","data-aos-easing":"ease"}},[a("div",{staticClass:"flex-row space-between padding-10-20 bg-violet white align-items-center",staticStyle:{"min-height":"62px"}},[a("h3",{staticClass:"size-lead"},[t._v(t._s(t.profile.name))]),t.showUpdate?a("div",{staticClass:"flex-row"},[a("p",{staticClass:"btn-pink size-text mg-r-10 mg-l-10",on:{click:t.startProfileUpdate}},[a("i",{staticClass:"fas fa-edit"})]),a("p",{staticClass:"btn-pink size-text mg-r-10 mg-l-10",on:{click:t.deleteProfile}},[a("i",{staticClass:"far fa-trash-alt"})])]):t._e()]),a("div",{staticClass:"flex-column padding-10-20 size-text"},[a("p",{staticClass:"mg-bot-10 mg-top-10"},[t._v("Имя: "+t._s(t.profile.first_name))]),a("p",{staticClass:"mg-bot-10 mg-top-10"},[t._v("Пол: "+t._s(t.profile.sex))]),a("p",{staticClass:"mg-bot-10 mg-top-10"},[t._v("Город: "+t._s(t.profile.city))]),a("p",{staticClass:"mg-bot-10 mg-top-10"},[t._v("Подпись профиля: "+t._s(t.profile.quote))])]),t.showUpdate?a("div",{staticClass:"flex-column padding-10-20"},[a("div",{staticClass:"flex-row mg-bot-20"},[t.editingLogin?a("div",[a("form",{staticClass:"flex-column",on:{submit:function(e){return e.preventDefault(),t.editLogin(e)}}},[a("div",{staticClass:"group mg-bot-30 mg-top-20"},[a("label",{staticClass:"size-text"},[t._v("Введите новый логин")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.new_name,expression:"new_name"}],staticClass:"width-10",attrs:{type:"text",required:""},domProps:{value:t.new_name},on:{input:function(e){e.target.composing||(t.new_name=e.target.value)}}}),a("span",{staticClass:"highlight"}),a("span",{staticClass:"bar"})]),a("div",{staticClass:"flex-row align-items-center justify-content-start"},[a("button",{staticClass:"btn mg-l-10"},[t._v("сохранить")]),a("p",{staticClass:"btn mg-l-10",on:{click:t.cancelEditingLogin}},[t._v("отменить")])])])]):a("div",{staticClass:"btn",on:{click:t.startEditingLogin}},[t._v("изменить логин")])]),a("div",{staticClass:"flex-row mg-bot-20"},[t.editingPassword?a("div",[a("form",{staticClass:"flex-column",on:{submit:function(e){return e.preventDefault(),t.editPassword(e)}}},[a("div",{staticClass:"group mg-bot-30 mg-top-20"},[a("label",{staticClass:"size-text"},[t._v("Введите новый пароль")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.new_password,expression:"new_password"}],staticClass:"width-10",attrs:{type:"password",required:""},domProps:{value:t.new_password},on:{input:function(e){e.target.composing||(t.new_password=e.target.value)}}}),a("span",{staticClass:"highlight"}),a("span",{staticClass:"bar"})]),a("div",{staticClass:"flex-row align-items-center justify-content-start"},[a("button",{staticClass:"btn mg-l-10"},[t._v("сохранить")]),a("p",{staticClass:"btn mg-l-10",on:{click:t.cancelEditingPassword}},[t._v("отменить")])])])]):a("div",{staticClass:"btn",on:{click:t.startEditingPassword}},[t._v("изменить пароль")])])]):t._e()]),t.editing?a("v-edit-profile",{attrs:{data:t.profile},on:{"cancel-profile-update":t.cancelProfileUpdate}}):t._e()],1)])},lt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-violet white input-icon padding-10"},[a("i",{staticClass:"fas fa-key",staticStyle:{"font-size":"22px"}})])}],ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"flex-column bg-white width-10 mg-rl-auto box-shadow padding-20-40",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"flex-column mg-bot-20 mg-top-20 width-10"},[a("div",{staticClass:"flex-row mg-bot-20 mg-top-20 width-10 mg-rl-auto"},[a("div",{staticClass:"group"},[a("label",{staticClass:"size-text violet"},[t._v("Имя")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.first_name,expression:"form.first_name"}],staticClass:"width-10",attrs:{type:"text",required:""},domProps:{value:t.form.first_name},on:{input:function(e){e.target.composing||t.$set(t.form,"first_name",e.target.value)}}}),a("span",{staticClass:"highlight"}),a("span",{staticClass:"bar"})])]),a("div",{staticClass:"flex-row mg-bot-20 mg-top-20 width-10 mg-rl-auto"},[a("div",{staticClass:"group"},[a("label",{staticClass:"size-text violet"},[t._v("Пол")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.sex,expression:"form.sex"}],staticClass:"width-10",attrs:{type:"text",required:""},domProps:{value:t.form.sex},on:{input:function(e){e.target.composing||t.$set(t.form,"sex",e.target.value)}}}),a("span",{staticClass:"highlight"}),a("span",{staticClass:"bar"})])]),a("div",{staticClass:"flex-row mg-bot-20 mg-top-20 width-10 mg-rl-auto"},[a("div",{staticClass:"group"},[a("label",{staticClass:"size-text violet"},[t._v("Город")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.city,expression:"form.city"}],staticClass:"width-10",attrs:{type:"text",required:""},domProps:{value:t.form.city},on:{input:function(e){e.target.composing||t.$set(t.form,"city",e.target.value)}}}),a("span",{staticClass:"highlight"}),a("span",{staticClass:"bar"})])]),a("div",{staticClass:"flex-row mg-bot-20 mg-top-20 width-10"},[a("div",{staticClass:"group width-10"},[a("div",{staticClass:"violet mg-bot-10 mg-top-10 flex-row align-items-center size-text"},[a("h3",{staticClass:"mg-r-10"},[t._v("Подпись профиля")]),null!==t.form.quote?a("div",[t.form.quote.length<500?a("p",[t._v("("+t._s(t.form.quote.length)+"/500)")]):a("p",{staticStyle:{color:"darkred"}},[t._v("("+t._s(t.form.quote.length)+"/500)")])]):t._e()]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.quote,expression:"form.quote"}],staticClass:"width-10",attrs:{type:"text"},domProps:{value:t.form.quote},on:{input:function(e){e.target.composing||t.$set(t.form,"quote",e.target.value)}}})])])]),a("div",{staticClass:"flex-row"},[a("button",{staticClass:"btn size-text align-self-center mg-top-20 mg-r-20",attrs:{id:"button-order"}},[t._v("сохранить")]),a("p",{staticClass:"btn size-text align-self-center mg-top-20 mg-r-20",on:{click:t.cancel}},[t._v("отменить")])])])},ut=[],dt={name:"EditProfile",props:["data"],data:function(){return{form:{first_name:this.data.first_name,sex:this.data.sex,city:this.data.city,quote:this.data.quote}}},methods:{submit:function(){$.a.put("https://api.dihauti.ru/api/users/update",this.form).then((function(){Y.a.fire("Отлично","Профиль обновлен","success").then((function(){window.location.reload()})).catch((function(t){Y.a.fire("Ошибка","".concat(t.message),"error")}))}))},cancel:function(){this.$emit("cancel-profile-update")}}},pt=dt,mt=Object(m["a"])(pt,ct,ut,!1,null,"d728da5e",null),gt=mt.exports,ft={name:"Profile",components:{"v-edit-profile":gt},data:function(){return{code:null,profile:{},editing:!1,editingLogin:!1,editingPassword:!1,new_password:"",new_name:""}},computed:{showUpdate:function(){return+window.localStorage.getItem("id")===+this.profile.id},showVerify:function(){return 0===+window.localStorage.getItem("role")}},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{fetchData:function(){var t=this;$.a.get("https://api.dihauti.ru/api/users/".concat(this.$route.params.slug)).then((function(e){t.profile=e.data.data}))},startProfileUpdate:function(){this.editing=!0},verify:function(){$.a.post("https://api.dihauti.ru/api/verify",{verification_code:this.code}).then((function(t){window.localStorage.setItem("role",t.data.data),window.location.reload()})).catch((function(t){Y.a.fire("Ошибка!","".concat(t.response.data.message),"error")}))},deleteProfile:function(){Y.a.fire({title:"Вы уверены?",text:"Нажав ок, вы полностью удалите свой профиль",icon:"warning",showCloseButton:!0,showCancelButton:!0}).then((function(t){t.value&&$.a.delete("https://api.dihauti.ru/api/users/delete").then((function(){window.location.reload()})).catch((function(t){Y.a.fire("Ошибка!","".concat(t.message),"error")}))}))},editLogin:function(){$.a.put("https://api.dihauti.ru/api/users/loginUpdate",{new_name:this.new_name}).then((function(){window.location.reload()})).catch((function(t){Y.a.fire("Ошибка!","".concat(t.message),"error")}))},editPassword:function(){var t=this;$.a.put("https://api.dihauti.ru/api/users/passwordUpdate",{new_password:this.new_password}).then((function(){t.cancelEditingPassword()})).catch((function(t){Y.a.fire("Ошибка!","".concat(t.message),"error")}))},cancelProfileUpdate:function(){this.editing=!1},startEditingLogin:function(){this.editingLogin=!0},startEditingPassword:function(){this.editingPassword=!0},cancelEditingLogin:function(){this.editingLogin=!1},cancelEditingPassword:function(){this.editingPassword=!1}}},ht=ft,vt=Object(m["a"])(ht,rt,lt,!1,null,null,null),bt=vt.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container padding-20-60 min-height-vh"},[a("div",{staticClass:"flex-column width-10 mg-bot-20 box-shadow bg-white",attrs:{"data-aos":"fade-up","data-aos-easing":"ease"}},[t.questionShowUpdate?a("div",[a("v-question-update",{attrs:{question:t.getQuestion},on:{"cancel-question-update":t.cancelQuestionUpdate}})],1):a("div",[a("h2",{staticClass:"size-title padding-10-20 bg-violet white"},[t._v(t._s(t.getQuestion.title))]),a("div",{staticClass:"flex-column padding-10-20",attrs:{"data-aos":"fade-up","data-aos-easing":"ease"}},[a("div",{staticClass:"flex-row align-items-center"},[a("p",{staticClass:"size-text mg-r-10",staticStyle:{color:"#5e6973"}},[t._v("Обсуждение начал ")]),a("div",{staticClass:"size-text mg-r-10 flex-row align-items-center",staticStyle:{color:"#5e6973"}},[a("router-link",{staticStyle:{color:"#5e6973","margin-right":"3px"},attrs:{to:{path:"/users/"+t.getQuestion.user_slug}}},[t._v(t._s(t.getQuestion.user)+" ")]),t.getQuestion.online?a("div",{staticStyle:{"border-radius":"50%",width:"10px",height:"10px",background:"green"}}):a("div",{staticStyle:{"border-radius":"50%",width:"10px",height:"10px",background:"darkred"}})],1)]),a("p",{staticClass:"size-text",staticStyle:{color:"#5e6973"}},[t._v(t._s(t.getQuestion.created_at))]),a("div",{staticClass:"mg-top-10 mg-bot-10"},[a("viewer",{attrs:{value:t.getQuestion.body}})],1),a("div",{staticClass:"padding-10-20 mg-bot-20"},[t.showUpdate?a("div",{staticClass:"flex-row justify-content-start",staticStyle:{float:"left"}},[a("div",{staticClass:"btn mg-l-10 mg-r-10",on:{click:t.questionUpdate}},[a("p",[t._v("редактировать")])]),a("div",{staticClass:"btn mg-l-10 mg-r-10",on:{click:t.questionDelete}},[a("p",[t._v("удалить")])])]):t._e(),a("div",{staticClass:"size-text mg-r-20 flex-row align-items-center",staticStyle:{float:"right"},on:{click:t.like}},[a("p",{staticClass:"size-text mg-r-20",staticStyle:{color:"rgba(45, 8, 4, 0.3)"}},[a("i",{staticClass:"far fa-eye"}),t._v(" "+t._s(t.getQuestion.view_count))]),a("transition",{attrs:{name:"bounce"}},[t.userLike?a("v-like",{attrs:{likeColor:"rgba(223, 166, 207, 1)",count:t.getQuestion.like_count}}):t._e()],1),a("transition",{attrs:{name:"bounce"}},[t.userLike?t._e():a("v-like",{attrs:{likeColor:"rgba(45, 8, 4, 0.3)",count:t.getQuestion.like_count}})],1)],1)])])])]),a("div",{staticClass:"flex-column width-10 mg-rl-auto mg-top-30",attrs:{id:"startQuestion"}},[a("div",{staticClass:"flex-row justify-content-start meta-data mg-bot-10",attrs:{"data-aos":"fade-up","data-aos-easing":"ease"}},[a("h2",{staticClass:"size-lead blue mg-r-20"},[t._v("Ответы")]),a("p",{staticClass:"size-lead"},[t._v(t._s(t.getQuestion.replies_count))])]),t._l(t.replies,(function(t){return a("v-replies",{key:t.id,attrs:{data:t}})})),t.pagination.last_page>1?a("v-pagination",{attrs:{pagination:t.pagination,offset:5},on:{paginate:function(e){return t.getResults()}}}):t._e()],2),this.$auth.isCommentator()?a("div",{staticClass:"flex-column width-10 mg-rl-auto mg-top-30 bg-white box-shadow",attrs:{"data-aos":"fade-up","data-aos-easing":"ease"}},[a("div",{staticClass:"flex-column width-10 align-self-start mg-bot-20"},[a("div",{staticClass:"flex-row padding-10-20 bg-violet white size-lead"},[a("p",[t._v(t._s(t.form.user))])]),a("form",{staticClass:"flex-column mg-bot-20 mg-top-20 width-10 padding-10-20",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("editor",{attrs:{options:t.editorOptions,mode:"wysiwyg"},model:{value:t.form.body,callback:function(e){t.$set(t.form,"body",e)},expression:"form.body"}}),a("button",{staticClass:"btn size-text align-self-center mg-top-20"},[t._v("ответить")])],1)])]):a("div",{staticClass:"flex-column width-10 mg-rl-auto mg-top-30 bg-white box-shadow"},[a("p",{staticClass:"size-text padding-10-20"},[t._v("Чтобы оставить комментарий, зарегистрируйтесь и подтвердите адрес электронной почты")])])])},_t=[],Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container padding-20-60"},[a("form",{staticClass:"flex-column bg-violet width-9 mg-rl-auto box-shadow padding-20-40",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"flex-row mg-bot-20 mg-top-20 width-10"},[a("div",{staticClass:"group width-10"},[a("h3",{staticClass:"size-lead white mg-bot-10 mg-top-10"},[t._v("Название")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"width-10",attrs:{type:"text"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}}),a("span",{staticClass:"highlight"}),a("span",{staticClass:"bar"})])]),a("div",{staticClass:"flex-column mg-bot-20 mg-top-20 width-10"},[a("h3",{staticClass:"size-lead white mg-bot-10"},[t._v("Редактор")]),a("editor",{staticClass:"bg-white",attrs:{options:t.editorOptions,visible:t.editorVisible,html:t.editorHtml,previewStyle:"vertical"},model:{value:t.form.body,callback:function(e){t.$set(t.form,"body",e)},expression:"form.body"}})],1),a("div",{staticClass:"flex-row flex-wrap align-self-center"},[a("button",{staticClass:"btn-pink size-text align-self-center mg-top-20 mg-r-10 mg-l-10",attrs:{id:"button-order"}},[t._v("отправить")]),a("p",{staticClass:"btn-pink size-text align-self-center mg-top-20 mg-r-10 mg-l-10",on:{click:t.cancelUpdate}},[t._v("отменить")])])])])},xt=[];function yt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function kt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?yt(Object(a),!0).forEach((function(e){Object(b["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):yt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Ot={components:{editor:S["Editor"]},props:["question"],data:function(){return{form:{title:this.question.title,body:this.question.body},editorHtml:"",editorVisible:!0,editorOptions:{hideModelSwitch:!1,minHeight:"600px",useCommandShortcut:!0,useDefaultHTMLSanitizer:!0,usageStatistics:!0,toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","task","indent","outdent","divider","image","link","code","codeblock"]}}},computed:kt({},Object(w["c"])(["getQuestion"])),methods:kt({},Object(w["b"])(["updateQuestion"]),{submit:function(){this.$emit("cancel-question-update"),this.updateQuestion({form:this.form,slug:this.$route.params.slug})},cancelUpdate:function(){this.$emit("cancel-question-update")}})},jt=Ot,Pt=(a("5c97"),Object(m["a"])(jt,Ct,xt,!1,null,null,null)),St=Pt.exports,zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t.editReply?a("form",{staticClass:"flex-column bg-violet width-9 mg-rl-auto box-shadow padding-20-40",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"flex-column mg-bot-20 mg-top-20 width-10"},[a("h3",{staticClass:"size-lead white mg-bot-10"},[t._v("Редактор")]),a("editor",{attrs:{options:t.editorOptions,mode:"wysiwyg"},model:{value:t.form.body,callback:function(e){t.$set(t.form,"body",e)},expression:"form.body"}})],1),a("button",{staticClass:"btn-pink size-text align-self-center mg-top-20",attrs:{id:"button-order"}},[t._v("сохранить")]),a("p",{staticClass:"btn-pink size-text align-self-center mg-top-20",on:{click:t.cancelReplyUpdate}},[t._v("отменить")])]):a("div",{staticClass:"flex-column width-10 align-self-start mg-bot-20 box-shadow",attrs:{"data-aos":"fade-up","data-aos-easing":"ease"}},[a("div",{staticClass:"flex-row flex-wrap space-between blue width-10 padding-10-20 align-items-center"},[a("div",{staticClass:"flex-column"},[a("div",{staticClass:"flex-row size-lead violet align-items-center"},[a("h2",{staticClass:"lead"},[a("router-link",{staticStyle:{"margin-right":"3px"},attrs:{to:{path:"/users/"+t.data.user_slug}}},[t._v(t._s(t.data.user)+" ")])],1),t.data.online?a("div",{staticStyle:{"border-radius":"50%",width:"10px",height:"10px",background:"green"}}):a("div",{staticStyle:{"border-radius":"50%",width:"10px",height:"10px",background:"darkred"}})]),a("v-role")],1),t.showUpdate?a("div",{staticClass:"flex-row align-items-center size-text"},[a("div",{staticClass:"btn mg-l-10 mg-r-10",on:{click:t.startReplyUpdate}},[a("p",[t._v("редактировать")])]),a("div",{staticClass:"btn mg-l-10 mg-r-10",on:{click:t.replyDelete}},[a("p",[t._v("удалить")])])]):t._e()]),a("div",{staticClass:"padding-10-20"},[a("div",{staticClass:"flex-column width-10"},[a("viewer",{attrs:{value:t.data.body}})],1),a("hr",{staticClass:"width-10"}),a("div",{staticClass:"flex-row space-between align-items-center"},[a("p",{staticClass:"size-text mg-top-10"},[t._v(" "+t._s(t.data.created_at)+" ")]),a("div",{staticClass:"size-text flex-row align-items-center",on:{click:t.like}},[a("transition",{attrs:{name:"bounce"}},[t.userLike?a("v-like",{attrs:{likeColor:"rgba(223, 166, 207, 1)",count:t.data.like_count}}):t._e()],1),a("transition",{attrs:{name:"bounce"}},[t.userLike?t._e():a("v-like",{attrs:{likeColor:"rgba(45, 8, 4, 0.3)",count:t.data.like_count}})],1)],1)])])])])},$t=[];function Et(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function Dt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Et(Object(a),!0).forEach((function(e){Object(b["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Et(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var qt={props:["data"],components:{editor:S["Editor"],viewer:S["Viewer"]},data:function(){return{form:{body:this.data.body},editReply:!1,editorOptions:{hideModelSwitch:!1,minHeight:"300px",useCommandShortcut:!0,useDefaultHTMLSanitizer:!0,usageStatistics:!0,toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","task","indent","outdent","divider","image","link","code","codeblock"]}}},computed:{showUpdate:function(){return+window.localStorage.getItem("id")===+this.data.user_id||this.$auth.isEditor()},userLike:function(){return this.isLiked()}},methods:Dt({},Object(w["b"])(["updateReply"]),{isLiked:function(){if(void 0!==this.data.likes){var t=this.data.likes.filter((function(t){return t.user_id=+localStorage.getItem("id")}));return 0!==t.length}},submit:function(){this.updateReply({id:this.data.id,form:this.form,slug:this.$route.params.slug})},replyDelete:function(){(+window.localStorage.getItem("id")===+this.data.user_id||this.$auth.isEditor())&&$.a.delete("https://api.dihauti.ru/api/questions/".concat(this.$route.params.slug,"/replies/").concat(this.data.id)).then((function(){Y.a.fire("Отлично!","Сообщение удалено","success").then((function(){window.location.reload()}))})).catch((function(){Y.a.fire("Ошибка","Попробуйте позднее или обратитесь в тех.поддежку support@dihauti.ru","error")}))},like:function(){var t=this;this.$auth.isAuthenticated&&$.a.post("https://api.dihauti.ru/api/questions/".concat(this.$route.params.slug,"/replies/").concat(this.data.id,"/like")).then((function(e){201===e.status?(t.data.like_count+=1,t.data.likes.unshift({user_id:t.user_id})):(t.data.like_count-=1,t.data.likes.splice({user_id:t.user_id}))}))},cancelReplyUpdate:function(){this.editReply=!1},startReplyUpdate:function(){this.editReply=!0}})},Rt=qt,Ut=(a("b947"),Object(m["a"])(Rt,zt,$t,!1,null,null,null)),It=Ut.exports;function Qt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function Lt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Qt(Object(a),!0).forEach((function(e){Object(b["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Qt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var At={components:{editor:S["Editor"],viewer:S["Viewer"],"v-question-update":St,"v-replies":It},data:function(){return{form:{user_id:localStorage.getItem("id"),user:this.ucFirst(localStorage.getItem("user")),body:null},replies:{},pagination:{current_page:1},questionShowUpdate:!1,editorOptions:{hideModelSwitch:!0,minHeight:"300px",useCommandShortcut:!0,useDefaultHTMLSanitizer:!0,usageStatistics:!0,toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","task","indent","outdent","divider","table","image","link","divider","code","codeblock"]}}},computed:Lt({},Object(w["c"])(["getReplies","getQuestion"]),{showUpdate:function(){return+window.localStorage.getItem("id")===+this.getQuestion.user_id||this.$auth.isEditor()},userLike:function(){return this.isLiked()}}),methods:Lt({},Object(w["b"])(["fetchQuestion","pushReply","questionUpdate","lastReply"]),{getResults:function(){var t=this;$.a.get("https://api.dihauti.ru/api/questions/".concat(this.$route.params.slug,"/replies?page=")+this.pagination.current_page).then((function(e){t.replies=e.data.data.data,t.pagination=e.data.data.pagination})).catch((function(t){console.log(t.response.data)}))},isLiked:function(){if(void 0!==this.getQuestion.likes){var t=this.getQuestion.likes.filter((function(t){return t.user_id=+localStorage.getItem("id")}));return 0!==t.length}},submit:function(){this.pushReply({form:this.form,slug:this.$route.params.slug})},like:function(){var t=this;this.$auth.isAuthenticated&&$.a.post("https://api.dihauti.ru/api/questions/".concat(this.$route.params.slug,"/like")).then((function(e){201===e.status?(t.getQuestion.like_count+=1,t.getQuestion.likes.unshift({user_id:t.user_id})):(t.getQuestion.like_count-=1,t.getQuestion.likes.splice({user_id:t.user_id}))}))},ucFirst:function(t){return t?t[0].toUpperCase()+t.slice(1):t},questionUpdate:function(){this.questionShowUpdate=!0},cancelQuestionUpdate:function(){this.questionShowUpdate=!1},questionDelete:function(){var t=this.$route.params.slug;Y.a.fire({title:"Вы уверены?",text:"Обсуждение и все комментарии к нему будут полностью удалены",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Да, уверен!",cancelButtonText:"Пожалуй, нет"}).then((function(e){e.value&&$.a.delete("https://api.dihauti.ru/api/questions/".concat(t)).then((function(){Y.a.fire("Отлично!","Обсуждение удалено","success").then((function(){window.location="/forum"}))})).catch((function(){Y.a.fire("Ошибка!","Попробуйте позднее или обратитесь в тех.поддежку support@dihauti.ru","error")}))}))}}),mounted:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:this.fetchQuestion(this.$route.params.slug),this.getResults();case 2:case"end":return t.stop()}}),null,this)}},Mt=At,Nt=(a("e692"),Object(m["a"])(Mt,wt,_t,!1,null,null,null)),Tt=Nt.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"padding-20-40 min-height-vh"},t._l(t.questions,(function(e){return a("div",{key:e.id,staticClass:"flex-column bg-white violet mg-top-10 mg-bot-10 box-shadow"},[a("div",{staticClass:"flex-row mg-bot-20 size-title bg-violet white padding-10-20"},[a("h3",[t._v(t._s(e.title))])]),a("div",{staticClass:"padding-10-20 flex-column"},[a("div",{staticClass:"meta-data"},[a("div",{staticClass:"flex-row mg-bot-10"},[a("i",{staticClass:"fas fa-user"}),t._v(t._s(e.user))]),a("div",{staticClass:"flex-row"},[a("i",{staticClass:"fas fa-calendar-alt"}),t._v(t._s(e.created_at))])]),a("hr",{staticStyle:{background:"rgba(45, 8, 44, 1)",width:"100%"}}),e.last_replies?a("div",{staticClass:"flex-row meta-data mg-top-10"},[a("p",[t._v("Последний ответ от "+t._s(e.last_replies.user)+", "+t._s(e.last_replies.created_at))])]):t._e(),a("div",{staticClass:"btn align-self-start white mg-top-10"},[a("router-link",{attrs:{to:e.path}},[t._v("присоединиться")])],1)])])})),0)},Bt=[],Vt={name:"Category",props:["category"],data:function(){return{questions:{}}},created:function(){var t=this;$.a.get("https://api.dihauti.ru/api/forumCategories/".concat(this.$route.params.slug)).then((function(e){t.questions=e.data.data})).catch((function(t){console.log(t)}))}},Ft=Vt,Jt=Object(m["a"])(Ft,Ht,Bt,!1,null,"fffa9436",null),Yt=Jt.exports,Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container padding-20-60 min-height-vh"},[a("form",{staticClass:"padding-10-20 bg-violet box-shadow flex-column width-10 mg-top-20 size-text",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"flex-row mg-bot-20 mg-top-20 width-8 mg-rl-auto"},[a("div",{staticClass:"group"},[a("label",{staticClass:"size-text"},[t._v("Название категории")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"width-10",attrs:{type:"text",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("span",{staticClass:"highlight"}),a("span",{staticClass:"bar"})])]),a("button",{staticClass:"btn mg-top-20 align-self-center mg-bot-30",attrs:{disabled:!t.name}},[t._v("создать")])])])},Xt=[],Zt={name:"CategoryCreate",data:function(){return{name:null}},methods:{submit:function(){var t=this;$.a.post("https://api.dihauti.ru/api/forumCategories",{name:this.name}).then((function(){Y.a.fire("Отлично!","Новый раздел форума создан","success").then((function(){t.$router.push("/forum")}))}))}}},Gt=Zt,Kt=Object(m["a"])(Gt,Wt,Xt,!1,null,"092986f8",null),te=Kt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container padding-20-60 min-height-vh"},[a("form",{staticClass:"padding-10-20 bg-violet box-shadow flex-column width-10 mg-top-20 size-text",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"flex-row mg-bot-20 mg-top-20 width-8 mg-rl-auto"},[a("div",{staticClass:"group"},[a("label",{staticClass:"size-text"},[t._v("Название категории")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"width-10",attrs:{type:"text",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("span",{staticClass:"highlight"}),a("span",{staticClass:"bar"})])]),a("button",{staticClass:"btn mg-top-20 align-self-center mg-bot-30",attrs:{disabled:!t.name}},[t._v("создать")])])])},ae=[],ie={name:"BlogCategoryCreate",data:function(){return{name:null}},methods:{submit:function(){var t=this;$.a.post("https://api.dihauti.ru/api/blogCategories",{name:this.name}).then((function(){Y.a.fire("Отлично!","Новый категория создана","success").then((function(){t.$router.push("/blog")}))}))}}},se=ie,ne=Object(m["a"])(se,ee,ae,!1,null,"6b308ce8",null),oe=ne.exports,re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container padding-20-60 min-height-vh"},[a("form",{staticClass:"flex-column bg-violet width-9 mg-rl-auto box-shadow padding-20-40",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"flex-row mg-bot-20 mg-top-20 width-10"},[a("div",{staticClass:"group width-10"},[a("h3",{staticClass:"size-lead white mg-bot-10 mg-top-10"},[t._v("Название")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"width-10",attrs:{type:"text"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}}),a("span",{staticClass:"highlight"}),a("span",{staticClass:"bar"})])]),a("div",{staticClass:"flex-column mg-bot-20 mg-top-20 width-10"},[a("h3",{staticClass:"size-lead white mg-bot-10"},[t._v("Категория")]),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.blog_category_id,expression:"form.blog_category_id"}],staticClass:"blue width-10",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"blog_category_id",e.target.multiple?a:a[0])}}},t._l(t.categories,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)])]),a("div",{staticClass:"flex-row mg-bot-20 mg-top-20 width-10"},[a("div",{staticClass:"group width-10"},[a("h3",{staticClass:"size-lead white mg-bot-10 mg-top-10"},[t._v("Описание")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"width-10",attrs:{type:"text"},domProps:{value:t.form.description},on:{input:function(e){e.target.composing||t.$set(t.form,"description",e.target.value)}}})])]),a("div",{staticClass:"flex-column mg-bot-20 mg-top-20 width-10"},[a("h3",{staticClass:"size-lead white mg-bot-10"},[t._v("Редактор")]),a("editor",{staticClass:"bg-white",attrs:{options:t.editorOptions,visible:t.editorVisible,html:t.editorHtml,previewStyle:"vertical"},model:{value:t.form.body,callback:function(e){t.$set(t.form,"body",e)},expression:"form.body"}})],1),a("button",{staticClass:"btn-pink size-text align-self-center mg-top-20",attrs:{id:"button-order"}},[t._v("отправить")])])])},le=[];function ce(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function ue(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ce(Object(a),!0).forEach((function(e){Object(b["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ce(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var de={components:{editor:S["Editor"]},data:function(){return{form:{title:null,blog_category_id:null,body:"",description:""},categories:null,editorOptions:{hideModelSwitch:!0,minHeight:"500px",useCommandShortcut:!0,useDefaultHTMLSanitizer:!0,usageStatistics:!0,toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","task","indent","outdent","divider","table","image","link","divider","code","codeblock"]}}},created:function(){this.getCategories()},methods:ue({},Object(w["b"])(["createPost"]),{submit:function(){this.createPost(this.form)},getCategories:function(){var t=this;$.a.get("https://api.dihauti.ru/api/blogCategories").then((function(e){t.categories=e.data.data}))}})},pe=de,me=(a("4e10"),Object(m["a"])(pe,re,le,!1,null,null,null)),ge=me.exports,fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container padding-20-60 min-height-vh"},[a("form",{staticClass:"flex-column bg-violet width-9 mg-rl-auto box-shadow padding-20-40",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("div",{staticClass:"flex-row mg-bot-20 mg-top-20 width-10"},[a("div",{staticClass:"group width-10"},[a("h3",{staticClass:"size-lead white mg-bot-10"},[t._v("Название")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"width-10",attrs:{type:"text"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}}),a("span",{staticClass:"highlight"}),a("span",{staticClass:"bar"})])]),a("div",{staticClass:"flex-column mg-bot-20 mg-top-20 width-10"},[a("h3",{staticClass:"size-lead white mg-bot-10"},[t._v("Категория")]),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.forum_category_id,expression:"form.forum_category_id"}],staticClass:"blue width-10",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"forum_category_id",e.target.multiple?a:a[0])}}},t._l(t.categories,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)])]),a("div",{staticClass:"flex-column mg-bot-20 mg-top-20 width-10"},[a("h3",{staticClass:"size-lead white mg-bot-10"},[t._v("Редактор")]),a("editor",{staticClass:"bg-white",attrs:{previewStyle:"vertical"},model:{value:t.form.body,callback:function(e){t.$set(t.form,"body",e)},expression:"form.body"}})],1),a("button",{staticClass:"btn-pink size-text align-self-center mg-top-20",attrs:{id:"button-order"}},[t._v("отправить")])])])},he=[];function ve(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function be(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ve(Object(a),!0).forEach((function(e){Object(b["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ve(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var we={components:{editor:S["Editor"]},data:function(){return{form:{title:null,blog_category_id:null,body:null},categories:null}},created:function(){this.getCategories()},methods:be({},Object(w["b"])(["createQuestion"]),{submit:function(){this.createQuestion(this.form)},getCategories:function(){var t=this;$.a.get("https://api.dihauti.ru/api/forumCategories").then((function(e){t.categories=e.data.data}))}})},_e=we,Ce=(a("a42a"),Object(m["a"])(_e,fe,he,!1,null,null,null)),xe=Ce.exports,ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container padding-20-60 min-height-vh"},[a("form",{staticClass:"padding-10-20 bg-white box-shadow flex-column width-10 mg-top-20 size-text",on:{submit:function(e){return e.preventDefault(),t.signUp(e)}}},[a("h1",{staticClass:"blue size-lead nowrap mg-bot-20 mg-top-20 align-self-center"},[t._v("Регистрация")]),a("label",{staticClass:"size-text violet flex-row flex-wrap width-8 mg-rl-auto",attrs:{for:"login_input"}},[t._v("Введите ваш логин")]),a("div",{staticClass:"flex-row mg-bot-20 mg-top-20 width-8 mg-rl-auto"},[t._m(0),a("div",{staticClass:"group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"width-10",attrs:{id:"login_input",type:"text",required:""},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),a("span",{staticClass:"highlight"}),a("span",{staticClass:"bar"})])]),a("label",{staticClass:"size-text violet flex-row flex-wrap width-8 mg-rl-auto",attrs:{for:"email_input"}},[t._v("Введите ваш e'mail")]),a("div",{staticClass:"flex-row mg-bot-20 mg-top-10 width-8 mg-rl-auto"},[t._m(1),a("div",{staticClass:"group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"width-10",attrs:{id:"email_input",type:"text",required:""},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),a("span",{staticClass:"highlight"}),a("span",{staticClass:"bar"})])]),a("label",{staticClass:"size-text violet flex-row flex-wrap width-8 mg-rl-auto",attrs:{for:"password_input"}},[a("p",{staticClass:"mg-r-10"},[t._v("Придумайте пароль")]),a("p",[t._v(t._s(t.passwordValidate(t.form.password)))])]),a("div",{staticClass:"flex-row mg-bot-20 mg-top-10 width-8 mg-rl-auto"},[t._m(2),a("div",{staticClass:"group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"width-10",attrs:{id:"password_input",type:"password",required:""},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),a("span",{staticClass:"highlight"}),a("span",{staticClass:"bar"})])]),a("label",{staticClass:"size-text violet flex-row flex-wrap width-8 mg-rl-auto",attrs:{for:"password_conf_input"}},[a("p",{staticClass:"mg-r-10"},[t._v("Повторите пароль")]),a("p",[t._v(t._s(t.validatePasswordConfirmation(t.form.password,t.form.password_confirmation)))])]),a("div",{staticClass:"flex-row mg-bot-20 mg-top-10 width-8 mg-rl-auto"},[t._m(3),a("div",{staticClass:"group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password_confirmation,expression:"form.password_confirmation"}],staticClass:"width-10",attrs:{id:"password_conf_input",type:"password",required:""},domProps:{value:t.form.password_confirmation},on:{input:function(e){e.target.composing||t.$set(t.form,"password_confirmation",e.target.value)}}}),a("span",{staticClass:"highlight"}),a("span",{staticClass:"bar"})])]),a("button",{staticClass:"btn mg-top-20 mg-bot-30 align-self-center",attrs:{disabled:!t.checkedInputValue}},[t._v("зарегистрироваться")])])])},ke=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-violet white input-icon padding-10"},[a("i",{staticClass:"far fa-user",staticStyle:{"font-size":"22px"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-violet white input-icon padding-10"},[a("i",{staticClass:"far fa-envelope",staticStyle:{"font-size":"22px"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-violet white input-icon padding-10"},[a("i",{staticClass:"fas fa-key",staticStyle:{"font-size":"22px"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-violet white input-icon padding-10"},[a("i",{staticClass:"fas fa-key",staticStyle:{"font-size":"22px"}})])}],Oe={name:"Login",data:function(){return{form:{name:null,email:null,password:null,password_confirmation:null}}},computed:{checkedInputValue:function(){return null!==this.form.email&&null!==this.form.name&&null!==this.form.password}},methods:{signUp:function(){var t=this,e={name:this.form.name,email:this.form.email,password:this.form.password,password_confirmation:this.form.password_confirmation};$.a.post("https://api.dihauti.ru/api/registration",e).then((function(){Y.a.fire("Отлично! Вы зарегистрировались","На указанный вами email придет сообщение с кодом подтверждения и дальнейшими инструкциями","success").then((function(){t.$router.push("/login")}))})).catch((function(){Y.a.fire("Ошибка!","Попробуйте позднее или напишите в техническую поддержку support@dihauti.ru","error")}))},passwordValidate:function(t){var e=/^.*[a-zA-Z]+.*$/,a=/^.{8,}$/;return null===t||""===t?null:e.test(t)?a.test(t)?"(пароль надежен)":"(пароль должен содержать минимум восемь символов)":"(пароль должен содержать латинские символы)"},validatePasswordConfirmation:function(t,e){return null===e||""===e?null:e!==t?"(пароли не совпадают)":void 0}}},je=Oe,Pe=Object(m["a"])(je,ye,ke,!1,null,null,null),Se=Pe.exports,ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},$e=[],Ee={name:"Logout",created:function(){this.$auth.isAuthenticated()&&(this.$auth.destroyToken(),window.location="/")}},De=Ee,qe=Object(m["a"])(De,ze,$e,!1,null,null,null),Re=qe.exports,Ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container padding-20-60 min-height-vh"},[a("form",{staticClass:"padding-10-20 box-shadow flex-column width-10 mg-top-20 size-text",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("h1",{staticClass:"blue size-lead nowrap mg-bot-20 mg-top-20 align-self-center"},[t._v("Авторизации")]),a("label",{staticClass:"size-text violet flex-row flex-wrap width-8 mg-rl-auto"},[t._v("Введите e'mail")]),a("div",{staticClass:"flex-row mg-bot-20 mg-top-10 width-8 mg-rl-auto"},[t._m(0),a("div",{staticClass:"group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"width-10",attrs:{type:"text",required:""},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),a("span",{staticClass:"highlight"}),a("span",{staticClass:"bar"})])]),a("label",{staticClass:"size-text violet flex-row flex-wrap width-8 mg-rl-auto green"},[t._v("Введите пароль")]),a("div",{staticClass:"flex-row mg-bot-20 mg-top-10 width-8 mg-rl-auto"},[t._m(1),a("div",{staticClass:"group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"width-10",attrs:{type:"password",required:""},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),a("span",{staticClass:"highlight"}),a("span",{staticClass:"bar"})])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.remember_me,expression:"form.remember_me"}],staticClass:"checkbox__green",attrs:{type:"checkbox",id:"remember_me"},domProps:{checked:Array.isArray(t.form.remember_me)?t._i(t.form.remember_me,null)>-1:t.form.remember_me},on:{change:function(e){var a=t.form.remember_me,i=e.target,s=!!i.checked;if(Array.isArray(a)){var n=null,o=t._i(a,n);i.checked?o<0&&t.$set(t.form,"remember_me",a.concat([n])):o>-1&&t.$set(t.form,"remember_me",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.form,"remember_me",s)}}}),a("label",{staticClass:"align-self-center",attrs:{for:"remember_me"}},[t._v("Запомнить меня")]),a("button",{staticClass:"btn mg-top-20 align-self-center mg-bot-30",attrs:{disabled:!t.checkedInputValue}},[t._v("войти в систему")])])])},Ie=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-violet white input-icon padding-10",staticStyle:{"font-size":"22px"}},[a("i",{staticClass:"far fa-envelope white"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-violet white input-icon padding-10"},[a("i",{staticClass:"fas fa-key",staticStyle:{"font-size":"22px"}})])}],Qe={name:"Login",data:function(){return{form:{email:null,password:null,remember_me:!1}}},computed:{checkedInputValue:function(){return this.form.email&&this.form.password}},created:function(){this.$auth.isAuthenticated()&&this.$router.push("/forum")},methods:{login:function(){var t=this,e={email:this.form.email,password:this.form.password,remember_me:this.form.remember_me};$.a.post("https://api.dihauti.ru/api/login",e).then((function(e){t.$auth.setToken(e.data.token,e.data.expires_at,e.data.user,e.data.id,e.data.role),window.location="/"})).catch((function(){Y.a.fire("Ошибка","Введены неверные данные","error")}))}}},Le=Qe,Ae=Object(m["a"])(Le,Ue,Ie,!1,null,null,null),Me=Ae.exports,Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"padding-20-40 min-height-vh"},[a("div",{staticClass:"box-shadow flex-column padding-10-20"},t._l(t.users,(function(t){return a("div",{key:t.id,staticClass:"flex-column mg-bot-10 size-text violet"},[a("v-user",{attrs:{data:t}}),a("hr",{staticClass:"width-10"})],1)})),0)])},Te=[],He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row flex-wrap space-between"},[a("div",{staticClass:"flex-row justify-content-start"},[a("p",[t._v(t._s(t.data.name))])]),t.editing?a("div",[a("form",{staticClass:"flex-row flex-wrap",on:{submit:function(e){return e.preventDefault(),t.editRole(e)}}},[a("div",{staticClass:"select mg-r-10 mg-l-10 mg-top-10"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.role,expression:"role"}],staticClass:"violet",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.role=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"2"}},[t._v("администратор")]),a("option",{attrs:{value:"3"}},[t._v("модератор")]),a("option",{attrs:{value:"1"}},[t._v("камрад")]),a("option",{attrs:{value:"4"}},[t._v("забанен")])])]),a("button",{staticClass:"btn size-text mg-r-10 mg-l-10 mg-top-10"},[t._v("сохранить")]),a("p",{staticClass:"btn size-text mg-r-10 mg-l-10 mg-top-10",on:{click:t.cancelEditing}},[t._v("отменить")])])]):a("div",{staticClass:"flex-row justify-content-start"},[a("p",[t._v(t._s(t.data.role))]),a("p",{staticClass:"mg-l-10",staticStyle:{width:"30px"},on:{click:t.startEditing}},[a("i",{staticClass:"fas fa-edit"})])])])},Be=[],Ve={name:"User",props:["data"],data:function(){return{editing:!1,role:this.data.role}},methods:{startEditing:function(){this.editing=!0},cancelEditing:function(){this.editing=!1},editRole:function(){var t=this;$.a.post("https://api.dihauti.ru/api/editRole",{user_id:this.data.id,role_id:this.role}).then((function(){t.cancelEditing(),window.location.reload()}))}}},Fe=Ve,Je=Object(m["a"])(Fe,He,Be,!1,null,"d5170fca",null),Ye=Je.exports,We={name:"EditRole",components:{"v-user":Ye},data:function(){return{users:{}}},created:function(){var t=this;$.a.get("https://api.dihauti.ru/api/users").then((function(e){t.users=e.data.data})).catch((function(t){console.log(t)}))}},Xe=We,Ze=Object(m["a"])(Xe,Ne,Te,!1,null,null,null),Ge=Ze.exports,Ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container padding-20-40 min-height-vh"},[a("div",{staticClass:"flex-column width-8 padding-10-20 mg-rl-auto",attrs:{"data-aos":"fade-up","data-aos-easing":"ease"}},[a("div",{staticClass:"flex-column mg-bot-20 mg-top-20 width-10"},[a("h3",{staticClass:"size-lead pink mg-bot-10"},[t._v("Пользователи")]),t.contacts?a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.recipient_id,expression:"recipient_id"}],staticClass:"blue width-10 box-shadow",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.recipient_id=e.target.multiple?a:a[0]}}},t._l(t.contacts,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name)+" ")])})),0),t.recipient_id?a("p",{staticClass:"btn mg-top-10",on:{click:function(e){return t.startDialog(t.recipient_id)}}},[t._v("написать")]):t._e()]):t._e(),a("h3",{staticClass:"size-lead pink mg-bot-10 mg-top-20"},[t._v("Диалоги")]),void 0!==t.dialogs||t.dialogs.length>0?a("ul",{staticClass:"width-10"},t._l(t.dialogs,(function(e){return a("li",{key:e.id,staticClass:"width-10 mg-bot-20 box-shadow"},[a("router-link",{staticClass:"font-size width-10",attrs:{to:"messages/"+e.id}},[a("div",{staticClass:"flex-column"},[a("div",{staticClass:"flex-column size-lead width-10 bg-violet white align-items-center justify-content-center padding-10-20"},[+t.user_id!==+e.user_one.id?a("p",[t._v(t._s(e.user_one.name))]):t._e(),+t.user_id!==+e.user_two.id?a("p",[t._v(t._s(e.user_two.name))]):t._e()]),null!==e.last_message?a("div",{staticClass:"flex-row width-10 violet size-text padding-5-10 space-between"},[a("div",{staticClass:"flex-row padding-5-10 justify-content-start align-items-center width-7"},[a("p",[t._v(t._s(e.last_message["sender"])+" |")]),a("div",{staticClass:"mg-l-20"},[t._v(" "+t._s(e.last_message["text"])+" ")])]),a("div",{staticClass:"flex-row padding-5-10 justify-content-center align-items-center width-3"},[a("p",[t._v(t._s(e.last_message["date"]))])])]):a("div",{staticClass:"flex-row width-10 violet size-text padding-5-10 justify-content-center"},[a("p",[t._v("сообщений нет")])])])])],1)})),0):t._e()])])])},ta=[],ea={name:"WindowMessenger",data:function(){return{contacts:null,dialogs:null,recipient_id:null,user_id:localStorage.getItem("id")}},created:function(){var t=this;$.a.get("https://api.dihauti.ru/api/contacts").then((function(e){t.contacts=e.data.data})).catch((function(t){return console.log(t)})),$.a.get("https://api.dihauti.ru/api/messages").then((function(e){t.dialogs=e.data.data})).catch((function(t){return console.log(t)}))},methods:{startDialog:function(t){var e=this;$.a.post("https://api.dihauti.ru/api/startDialog",{recipient_id:t}).then((function(t){e.$router.push({path:"/messages/".concat(t.data.data.id)})}))}}},aa=ea,ia=Object(m["a"])(aa,Ke,ta,!1,null,"4004cd8e",null),sa=ia.exports,na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container bg-white"},[t.messages?a("div",{staticClass:"flex-column bg-white width-8 mg-rl-auto dialog-window",attrs:{id:"dialog","data-aos":"fade-up","data-aos-easing":"ease"}},[t._l(t.messages,(function(e){return a("div",{key:e.id,staticClass:"box-shadow mg-top-10 mg-r-10 mg-l-10 padding-10-20",class:{"bg-white":t.myMessage(e),"align-self-start":t.myMessage(e),"bg-violet":!t.myMessage(e),white:!t.myMessage(e),"align-self-end":!t.myMessage(e)},staticStyle:{"border-radius":"5px"}},[a("div",{staticClass:"flex-row padding-5-10 size-text justify-content-start"},[t._v(" "+t._s(e.sender)+" ")]),a("div",{staticClass:"flex-row padding-5-10 size-text"},[t._v(" "+t._s(e.text)+" ")]),a("div",{staticClass:"flex-row padding-5-10 size-text justify-content-end"},[t._v(" "+t._s(e.date)+" ")])])})),a("hr")],2):t._e(),t.messages?a("form",{staticClass:"mg-bot-10 mg-top-20 width-8 mg-rl-auto",on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.text,expression:"form.text"}],staticClass:"box-shadow bg-white",domProps:{value:t.form.text},on:{input:function(e){e.target.composing||t.$set(t.form,"text",e.target.value)}}}),a("button",{staticClass:"btn size-text align-self-start white mg-top-10 mg-bot-10"},[t._v("ответить")])]):t._e()])},oa=[],ra={name:"Chat",data:function(){return{messages:null,dialog:null,user_id:localStorage.getItem("id"),form:{text:null},myMessageClass:"bg-white",notMyMessageClass:"bg-opacity"}},mounted:function(){var t=this;setTimeout((function(){t.scrollChat()}),400),window.Echo.private("dialog.".concat(this.$route.params.id)).listen("MessageEvent",(function(e){t.messages.push(JSON.parse(e.data)),t.scrollChat()}))},methods:{submit:function(){var t=this;$.a.post("https://api.dihauti.ru/api/messages/".concat(this.$route.params.id,"/send"),{recipient_id:this.recipient(this.dialog),dialog_id:this.$route.params.id,text:this.form.text}).then((function(){t.form.text=null,setTimeout((function(){t.scrollChat()}),200)}))},recipient:function(t){return+this.user_id!==+t.user_one.id?t.user_one.id:+this.user_id!==+t.user_two.id?t.user_two.id:void 0},myMessage:function(t){return+t.sender_id===+this.user_id},ucFirst:function(t){return t?t[0].toUpperCase()+t.slice(1):t},scrollChat:function(){var t=document.getElementById("dialog");t.scrollTop=t.scrollHeight}},created:function(){var t=this;$.a.get("https://api.dihauti.ru/api/messages/".concat(this.$route.params.id)).then((function(e){return t.messages=e.data.data})).catch((function(t){return console.log(t)})),$.a.get("https://api.dihauti.ru/api/dialog/".concat(this.$route.params.id)).then((function(e){return t.dialog=e.data.data})).catch((function(t){return console.log(t)}))}},la=ra,ca=Object(m["a"])(la,na,oa,!1,null,"15563b97",null),ua=ca.exports;s["a"].use(l["a"]);var da=[{path:"/",name:"home",component:f},{path:"/login",name:"login",component:Me},{path:"/blog",name:"blog",props:!0,component:R},{path:"/blog/create",name:"postCreate",props:!0,component:ge,meta:{requiresAuth:!0,bannedUser:!0}},{path:"/category/:slug",name:"category",props:!0,component:Yt,meta:{requiresAuth:!0,bannedUser:!0}},{path:"/blog/:slug",name:"post",props:!0,component:ot},{path:"/categoryCreate",name:"categoryCreate",component:te,meta:{requiresAuth:!0,bannedUser:!0}},{path:"/blogCategoryCreate",name:"blogCategoryCreate",component:oe,meta:{requiresAuth:!0,bannedUser:!0}},{path:"/registry",name:"registry",component:Se},{path:"/logout",name:"logout",component:Re,meta:{requiresAuth:!0,bannedUser:!0}},{path:"/forum",name:"forum",component:O,props:!0,meta:{requiresAuth:!0,bannedUser:!0}},{path:"/editRole",name:"editRole",component:Ge,props:!0,meta:{requiresAuth:!0,bannedUser:!0}},{path:"/users/:slug",name:"users",component:bt,meta:{requiresAuth:!0,bannedUser:!0}},{path:"/forum/:slug",name:"Question",component:Tt,meta:{requiresAuth:!0,bannedUser:!0}},{path:"/forum/create",name:"questionCreate",component:xe,meta:{requiresAuth:!0,bannedUser:!0}},{path:"/messages",name:"messenger",component:sa,meta:{requiresAuth:!0,bannedUser:!0}},{path:"/messages/:id",name:"chat",component:ua,meta:{requiresAuth:!0,bannedUser:!0}}],pa=new l["a"]({mode:"history",base:"/",routes:da});pa.beforeEach((function(t,e,a){t.matched.some((function(t){return t.meta.requiresAuth}))?s["a"].auth.isAuthenticated()?a():a({path:"/login",query:{redirect:t.fullPath}}):a()})),pa.beforeEach((function(t,e,a){t.matched.some((function(t){return t.meta.bannedUser}))&&s["a"].auth.checkBan()?a({path:"/",query:{redirect:t.fullPath}}):a()}));var ma=pa,ga={state:{posts:{},post:{},filterPost:{}},getters:{getPosts:function(t){return t.posts},getPost:function(t){return t.post},getFilterPost:function(t){return t.filterPost}},mutations:{setPosts:function(t,e){t.posts=e},setPost:function(t,e){t.post=e},setFilterPost:function(t,e){t.filterPost=e}},actions:{fetchPosts:function(t,e){var a;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap($.a.get("https://api.dihauti.ru/api/posts?page="+e));case 2:a=i.sent,t.commit("setPosts",a.data.data);case 4:case"end":return i.stop()}}))},fetchPost:function(t,e){var a;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap($.a.get("https://api.dihauti.ru/api/posts/".concat(e)));case 2:a=i.sent,t.commit("setPost",a.data.data);case 4:case"end":return i.stop()}}))},fetchFilterPost:function(t){var e;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap($.a.get("https://api.dihauti.ru/api/sortedPosts"));case 2:e=a.sent,t.commit("setFilterPost",e.data);case 4:case"end":return a.stop()}}))},createPost:function(t,e){var a;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap($.a.post("https://api.dihauti.ru/api/posts",{title:e.title,blog_category_id:e.blog_category_id,body:e.body,description:e.description}));case 2:a=t.sent,201===a.status?Y.a.fire("Отлично!","Пост добавлен","success").then((function(){window.location="/blog"})):Y.a.fire("Ошибка","Попробуйте позднее или обратитесь в тех.поддежку support@dihauti.ru","error");case 4:case"end":return t.stop()}}))},updatePost:function(t,e){var a;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap($.a.put("https://api.dihauti.ru/api/posts/".concat(e.slug),{title:e.form.title,body:e.form.body,description:e.form.description}));case 2:a=t.sent,202===a.status?Y.a.fire("Отлично!","Пост обновлен","success").then((function(){window.location="/blog/".concat(e.slug)})):Y.a.fire("Ошибка","Попробуйте позднее или обратитесь в тех.поддежку support@dihauti.ru","error");case 4:case"end":return t.stop()}}))}}},fa={state:{questions:{},question:{},sortedQuestionReplies:{},sortedQuestionCategory:{}},getters:{getQuestions:function(t){return t.questions},getQuestion:function(t){return t.question},getSortedQuestionCategory:function(t){return t.sortedQuestionCategory},getSortedQuestionReplies:function(t){return t.sortedQuestionReplies}},mutations:{setQuestions:function(t,e){t.questions=e},setQuestion:function(t,e){t.question=e},setSortedQuestionCategory:function(t,e){t.sortedQuestionCategory=e},setSortedQuestionReplies:function(t,e){t.sortedQuestionReplies=e}},actions:{fetchQuestions:function(t){var e;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap($.a.get("https://api.dihauti.ru/api/questions"));case 2:e=a.sent,t.commit("setQuestions",e.data.data);case 4:case"end":return a.stop()}}))},fetchQuestion:function(t,e){var a;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap($.a.get("https://api.dihauti.ru/api/questions/".concat(e)));case 2:a=i.sent,t.commit("setQuestion",a.data.data);case 4:case"end":return i.stop()}}))},createQuestion:function(t,e){var a;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap($.a.post("https://api.dihauti.ru/api/questions",e));case 2:a=t.sent,201===a.status?Y.a.fire("Отлично!","Обсуждение создано","success").then((function(){window.location="/forum"})):Y.a.fire("Ошибка","Попробуйте позднее или обратитесь в тех.поддежку support@dihauti.ru","error");case 4:case"end":return t.stop()}}))},updateQuestion:function(t,e){var a;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap($.a.put("https://api.dihauti.ru/api/questions/".concat(e.slug),{title:e.form.title,body:e.form.body}));case 2:a=t.sent,202===a.status?Y.a.fire("Отлично!","Обсуждение обновлено","success").then((function(){window.location="/forum/".concat(e.slug)})):Y.a.fire("Ошибка","Попробуйте позднее или обратитесь в тех.поддежку support@dihauti.ru","error");case 4:case"end":return t.stop()}}))}}},ha={state:{comments:{}},getters:{getComments:function(t){return t.comments}},mutations:{setComments:function(t,e){t.comments=e},addComment:function(t,e){t.comments.unshift(e)}},actions:{fetchComments:function(t,e){var a;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap($.a.get("https://api.dihauti.ru/api/posts/".concat(e,"/comments")));case 2:a=i.sent,t.commit("setComments",a.data.data);case 4:case"end":return i.stop()}}))},pushComment:function(t,e){var a;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap($.a.post("https://api.dihauti.ru/api/posts/".concat(e.slug,"/comments"),{body:e.form.body}));case 2:a=t.sent,201===a.status?Y.a.fire("Отлично!","Ваше комментарий  добавлен","success").then((function(){window.location.reload()})):Y.a.fire("Ошибка","Попробуйте позднее или обратитесь в тех.поддежку support@dihauti.ru","error");case 4:case"end":return t.stop()}}))},updateComment:function(t,e){var a;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap($.a.put("https://api.dihauti.ru/api/posts/".concat(e.slug,"/comments/").concat(e.id),{body:e.form.body}));case 2:a=t.sent,202===a.status?Y.a.fire("Отлично!","Комментарий обновлен","success").then((function(){window.location="/blog/".concat(e.slug)})):Y.a.fire("Ошибка","Попробуйте позднее или обратитесь в тех.поддежку support@dihauti.ru","error");case 4:case"end":return t.stop()}}))}}},va={state:{replies:{},reply:{}},getters:{getReplies:function(t){return t.replies}},mutations:{setReplies:function(t,e){t.replies=e},addReply:function(t,e){t.replies.unshift(e)}},actions:{pushReply:function(t,e){var a;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap($.a.post("https://api.dihauti.ru/api/questions/".concat(e.slug,"/replies"),{body:e.form.body}));case 2:a=t.sent,201===a.status?Y.a.fire("Отлично!","Ваше сообщение отправлено","success").then((function(){window.location.reload()})):Y.a.fire("Ошибка","Попробуйте позднее или обратитесь в тех.поддежку support@dihauti.ru","error");case 4:case"end":return t.stop()}}))},updateReply:function(t,e){var a;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap($.a.put("https://api.dihauti.ru/api/questions/".concat(e.slug,"/replies/").concat(e.id),{body:e.form.body}));case 2:a=t.sent,202===a.status?Y.a.fire("Отлично!","Ваше сообщение обновлено","success").then((function(){window.location="/forum/".concat(e.slug)})):Y.a.fire("Ошибка","Попробуйте позднее или обратитесь в тех.поддежку support@dihauti.ru","error");case 4:case"end":return t.stop()}}))}}};s["a"].use(w["a"]);var ba=new w["a"].Store({modules:{posts:ga,comments:ha,question:fa,replies:va}}),wa={inserted:function(t,e){var a=function a(i){e.value(i,t)&&window.removeEventListener("scroll",a)};window.addEventListener("scroll",a)}},_a=(a("ac1f"),a("466d"),a("5319"),{bind:function(t,e){t.oninput=function(a){var i;a.isTrusted&&("ru"===e.arg?i=this.value.replace(/\D/g,"").match(/(\d{0,3})(\d{0,3})(\d{0,4})/):"uk"==e.arg?i=this.value.replace(/\D/g,"").match(/(\d{0,2})(\d{0,3})(\d{0,4})/):"usa"==e.arg?i=this.value.replace(/\D/g,"").match(/(\d{0,3})(\d{0,4})(\d{0,4})/):"bel"==e.arg&&(i=this.value.replace(/\D/g,"").match(/(\d{0,2})(\d{0,3})(\d{0,3})/)),this.value=i[2]?"("+i[1]+") "+i[2]+(i[3]?"-"+i[3]:""):i[1],t.dispatchEvent(new Event("input")))}}}),Ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container bg-white"},[a("v-header",{attrs:{id:"up"}}),a("router-view"),a("v-footer",{staticStyle:{height:"10vh"}}),a("div",{directives:[{name:"scroll",rawName:"v-scroll",value:t.handleScroll,expression:"handleScroll"},{name:"scroll-to",rawName:"v-scroll-to",value:"#up",expression:"'#up'"}],staticClass:"upButton"},[a("i",{staticClass:"fas fa-arrow-up"})])],1)},xa=[],ya={created:function(){4===+window.localStorage.getItem("role")&&Y.a.fire("Уважаемый пользователь!","Вы забанены, а значит лишены всяких прав на данном портале. Напишите в поддержку support@dihauti.ru для разъяснений","error").then((function(){window.location.reload()}))},methods:{handleScroll:function(t,e){window.scrollY>200?e.setAttribute("style","opacity: 1; transform: translate3d(0, -20px, 0)"):window.scrollY<200&&e.setAttribute("style","opacity: 0; transform: translate3d(0, -80px, 0);")}}},ka=ya,Oa=Object(m["a"])(ka,Ca,xa,!1,null,null,null),ja=Oa.exports,Pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row padding-20-40 bg-violet box-shadow space-between align-items-center"},[a("div",{staticClass:"flex-column white"},[a("router-link",{staticClass:"size-title",attrs:{to:"/"}},[t._v(" Dihauti Residence ")]),a("p",{staticClass:"size-text"},[t._v("Сообщество свободомыслящих")])],1),a("v-slide",{attrs:{right:""}},[a("div",{staticClass:"flex-column nav width-100 size-text"},[a("router-link",{staticClass:"flex-row box-shadow width-9 mg-rl-auto mg-bot-10 padding-10-20 violet justify-content-center",attrs:{to:"/"}},[t._v("главная")]),t.loggedIn?a("router-link",{staticClass:"flex-row box-shadow width-9 mg-rl-auto mg-bot-10 padding-10-20 violet justify-content-center",attrs:{to:"/forum"}},[t._v("форум")]):t._e(),a("router-link",{staticClass:"flex-row box-shadow width-9 mg-rl-auto mg-bot-10 padding-10-20 violet justify-content-center",attrs:{to:"/blog"}},[t._v("блог")]),t.loggedIn?a("router-link",{staticClass:"flex-row box-shadow width-9 mg-rl-auto mg-bot-10 padding-10-20 violet justify-content-center",attrs:{to:t.path}},[t._v("профиль")]):t._e(),t.loggedIn?a("router-link",{staticClass:"flex-row box-shadow width-9 mg-rl-auto mg-bot-10 padding-10-20 violet justify-content-center",attrs:{to:"/messages"}},[t._v("сообщения")]):t._e(),t.loggedIn?t._e():a("router-link",{staticClass:"flex-row box-shadow width-9 mg-rl-auto mg-bot-10 padding-10-20 violet justify-content-center",attrs:{to:"/login"}},[t._v("авторизация")]),t.loggedIn?t._e():a("router-link",{staticClass:"flex-row box-shadow width-9 mg-rl-auto mg-bot-10 padding-10-20 violet justify-content-center",attrs:{to:"/registry"}},[t._v("регистрация")]),this.$auth.isAdmin()?a("router-link",{staticClass:"flex-row box-shadow width-9 mg-rl-auto mg-bot-10 padding-10-20 violet justify-content-center",attrs:{to:"/editRole"}},[t._v("пользователи")]):t._e(),t.loggedIn?a("router-link",{staticClass:"flex-row box-shadow width-9 mg-rl-auto mg-bot-10 padding-10-20 violet justify-content-center",attrs:{to:"/logout"}},[t._v("выход")]):t._e()],1)])],1)},Sa=[],za=a("db0f"),$a={name:"Header",components:{"v-slide":za["Slide"]},data:function(){return{path:"/users/".concat(localStorage.getItem("user")),loggedIn:this.$auth.isAuthenticated()}}},Ea=$a,Da=Object(m["a"])(Ea,Pa,Sa,!1,null,null,null),qa=Da.exports,Ra=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ua=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-violet white padding-20-40 flex-row space-between align-items-center"},[a("h1",{staticClass:"size-title"},[t._v("Dihauti Residence")]),a("div",{staticClass:"flex-row"},[a("a",{staticClass:"white size-lead mg-r-10 mg-l-10",attrs:{href:"https://vk.com/sirdihauti",target:"_blank"}},[a("i",{staticClass:"fab fa-vk"})]),a("a",{staticClass:"white size-lead mg-r-10 mg-l-10",attrs:{href:"https://t.me/web_arven",target:"_blank"}},[a("i",{staticClass:"fab fa-telegram-plane"})])])])}],Ia={name:"Footer"},Qa=Ia,La=Object(m["a"])(Qa,Ra,Ua,!1,null,"370a5497",null),Aa=La.exports,Ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-row align-items-center like",style:{color:t.likeColor}},[a("i",{staticClass:"far fa-heart mg-r-10"}),a("small",[t._v(t._s(t.count))])])},Na=[],Ta={name:"Like",props:["likeColor","count"]},Ha=Ta,Ba=Object(m["a"])(Ha,Ma,Na,!1,null,null,null),Va=Ba.exports,Fa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"pagination size-text",attrs:{role:"navigation","aria-label":"pagination"}},[a("a",{staticClass:"pagination__previous",attrs:{disabled:t.pagination.current_page<=1},on:{click:function(e){return e.preventDefault(),t.changePage(1)}}},[t._v("начало")]),a("a",{staticClass:"pagination__previous",attrs:{disabled:t.pagination.current_page<=1},on:{click:function(e){return e.preventDefault(),t.changePage(t.pagination.current_page-1)}}},[t._v("назад")]),a("ul",{staticClass:"pagination__list"},t._l(t.pages,(function(e,i){return a("li",{key:i},[a("a",{staticClass:"pagination__link",class:t.isCurrentPage(e)?"is-current":"",on:{click:function(a){return a.preventDefault(),t.changePage(e)}}},[t._v(t._s(e))])])})),0),a("a",{staticClass:"pagination__next",attrs:{disabled:t.pagination.current_page>=t.pagination.last_page},on:{click:function(e){return e.preventDefault(),t.changePage(t.pagination.current_page+1)}}},[t._v("вперед")]),a("a",{staticClass:"pagination__next",attrs:{disabled:t.pagination.current_page>=t.pagination.last_page},on:{click:function(e){return e.preventDefault(),t.changePage(t.pagination.last_page)}}},[t._v("конец")])])},Ja=[],Ya={props:["pagination","offset"],methods:{isCurrentPage:function(t){return this.pagination.current_page===t},changePage:function(t){t>this.pagination.last_page&&(t=this.pagination.last_page),this.pagination.current_page=t,this.$emit("paginate")}},computed:{pages:function(){var t=[],e=this.pagination.current_page-Math.floor(this.offset/2);e<1&&(e=1);var a=e+this.offset-1;a>this.pagination.last_page&&(a=this.pagination.last_page);while(e<=a)t.push(e),e++;return t}}},Wa=Ya,Xa=(a("6ccd"),Object(m["a"])(Wa,Fa,Ja,!1,null,null,null)),Za=Xa.exports,Ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"meta-data mg-top-10"},[this.$auth.isAdmin()?a("p",[t._v("администратор")]):this.$auth.isEditor()?a("p",[t._v("модератор")]):this.$auth.isCommentator()?a("p",[t._v("комментатор")]):t._e()])},Ka=[],ti={name:"Role"},ei=ti,ai=Object(m["a"])(ei,Ga,Ka,!1,null,"01e5bd06",null),ii=ai.exports;window.axios=a("bc3a"),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",window.axios.defaults.headers.post["crossDomain"]=!0;var si="Bearer ".concat(localStorage.getItem("token"));window.axios.defaults.headers.common["Authorization"]=si,window.io=a("8055"),window.Echo=new i["a"]({broadcaster:"socket.io",host:"https://api.dihauti.ru",auth:{headers:{Authorization:si}}}),s["a"].use(n),window.swal=a("3d20"),s["a"].directive("scroll",wa),s["a"].directive("mask",_a);var ni=a("f13c");s["a"].use(ni,{container:"body",duration:700,easing:"ease",offset:0,force:!0,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0}),s["a"].directive("clipscroll",{inserted:function(t,e){var a=function a(){var i=!1,s=e.value.classIn;!i&&window.scrollY>e.value.start&&(i=!0,t.classList.add(s),t.style.opacity="1"),window.scrollY>e.value.end&&window.removeEventListener("scroll",a)};window.addEventListener("scroll",a)}}),s["a"].component("v-header",qa),s["a"].component("v-footer",Aa),s["a"].component("v-like",Va),s["a"].component("v-pagination",Za),s["a"].component("v-role",ii),s["a"].config.productionTip=!1,window.EventBus=new s["a"],new s["a"]({created:function(){r.a.init()},router:ma,store:ba,render:function(t){return t(ja)}}).$mount("#app")},"5c97":function(t,e,a){"use strict";var i=a("bfbe"),s=a.n(i);s.a},"6ccd":function(t,e,a){"use strict";var i=a("a3ac"),s=a.n(i);s.a},"7ea4":function(t,e,a){},8189:function(t,e,a){},"83f1":function(t,e,a){},a1a7:function(t,e,a){},a3ac:function(t,e,a){},a41b:function(t,e,a){},a42a:function(t,e,a){"use strict";var i=a("8189"),s=a.n(i);s.a},b428:function(t,e,a){},b947:function(t,e,a){"use strict";var i=a("b428"),s=a.n(i);s.a},bfbe:function(t,e,a){},d078:function(t,e,a){},e692:function(t,e,a){"use strict";var i=a("02d0"),s=a.n(i);s.a},f7ce:function(t,e,a){},fa72:function(t,e,a){"use strict";var i=a("83f1"),s=a.n(i);s.a}});
//# sourceMappingURL=app.fd5b9bea.js.map